// Generated by CoffeeScript 1.3.3
(function() {

  $(function() {
    return $('#search-form').submit(function(e) {
      e.preventDefault();
      $.ajax({
        data: {
          "word": $('#input').val()
        },
        type: 'POST',
        url: "/search/",
        beforeSend: function(jqXHR, settings) {
          return $('#message').html('<span class="alert alert-info">查询中……</span>').slideDown();
        },
        success: function(data, textStatus, jqXHR) {
          $('#message').slideUp();
          $('#result-list').empty();
          $('#results').slideDown();
          return $.each(data.ImgList, function(index, value) {
            var link;
            link = $("<a>" + value + "</a>");
            link.attr('href', ("" + value)(+'#name=tupian' + '&download=tupian.jpeg' + '&content-type=image/jpeg' + '&filename=tupian2.jpeg'));
            link.attr('id', "" + index);
            return $('#result-list').append(link);
          });
        },
        error: function(jqXHR, textStatus, errorThrown) {
          return $('#message').html('<span class="alert alert-info">查询失败</span>');
        }
      });
      return false;
    });
  });

}).call(this);
